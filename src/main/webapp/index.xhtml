<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
   <title>Infinispan CDI Integration</title>
</h:head>
<h:body>
   <h:outputStylesheet library="css" name="style.css"/>
   <h:graphicImage id="infinispan" library="images" name="infinispan_logo.png"/>
   <h:graphicImage library="images" name="seam_icon.png"/>
   <h:form prependId="false">
      <h2>Greeting form</h2>
      <h:messages id="errors" errorClass="error"/>
      <br/>
      <h:outputText value="Name: "/>
      <h:inputText id="name" value="#{greetingView.name}" label="Name" required="true"/>
      <h:commandButton value="Greet" action="#{greetingView.greet}">
         <f:ajax execute="name" render="nbentries result name errors values"/>
      </h:commandButton>
      <br/>
      <br/>
      <h:outputText id="result" value="#{greetingView.result}"/>
      <br/>
      <br/>

      <h2>Cache informations</h2>
      <h:outputText value="Cache name: #{greetingCacheManager.cacheName}"/>
      <br/>
      <h:outputText value="Max entries: #{greetingCacheManager.evictionMaxEntries}"/>
      <br/>
      <h:outputText id="nbentries" value="Number of cached entries: #{greetingCacheManager.numberOfEntries}"/>
      <br/>
      <h:outputText id="values" value="Cached values: #{greetingCacheManager.cacheValues}"/>
      <br/>
      <br/>
      <h:commandButton value="Remove All" action="#{greetingCacheManager.clearGreetingCache}">
         <f:ajax render="nbentries result name errors values"/>
      </h:commandButton>
   </h:form>
</h:body>
</html>
