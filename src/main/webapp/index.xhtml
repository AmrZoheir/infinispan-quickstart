<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html">
<h:head>
   <title>Infinispan CDI QuickStart</title>
   <h:outputScript library="js" name="jquery-1.6.2.min.js" />
   <h:outputStylesheet library="css" name="styles.css"/>
   <script type="text/javascript">
      $(window).load( function() {
         $('#name').bind('focus', function() {
            $(this).attr('value', '');
         });
      });
   </script>
</h:head>
<h:body>
   <div id="header" />

   <h:form prependId="false">
      <h2>Greeting form</h2>
      <h:messages id="errors" errorClass="error"/>
      <br/>
      <h:inputText id="name" value="#{greetingView.name}" label="Name" required="true"/>
      <h:commandButton value="Greet" action="#{greetingView.greet}" />
      <h:commandButton value="Clear Cache" action="#{greetingCacheManager.clearCache}"/>
      <br/>
      <br/>
      <h:outputText value="#{greetingView.result}"/>
      <br/>

      <h2>Cache informations</h2>
      <h:outputText value="Cache name: #{greetingCacheManager.cacheName}"/>
      <br/>
      <h:outputText value="Eviction strategy: #{greetingCacheManager.evictionStrategy}"/>
      <br/>
      <h:outputText value="Max entries: #{greetingCacheManager.evictionMaxEntries}"/>
      <br/>

      <h2>Cached values (#{greetingCacheManager.numberOfEntries})</h2>
      <ul>
         <h:dataTable id="cachedvalues" value="#{greetingCacheManager.cachedValues}" var="oneValue">
            <h:column>
               <li><h:outputText value="#{oneValue}"/></li>
            </h:column>
         </h:dataTable>
      </ul>
   </h:form>
</h:body>
</html>
